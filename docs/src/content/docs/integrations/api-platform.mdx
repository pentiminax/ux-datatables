---
title: API Platform Integration
description: Use UX DataTables with API Platform collections and Hydra responses
---

# API Platform Integration

UX DataTables supports two integration paths with API Platform.

## 1) Ajax Adapter Mode (`DataTable::apiPlatform()`)

Use this mode when DataTables runs in server-side mode and your endpoint is an API Platform collection.

```php
use Pentiminax\UX\DataTables\Model\DataTable;

$dataTable = new DataTable('books');
$dataTable
    ->ajax('/api/books')
    ->serverSide(true)
    ->apiPlatform(true);
```

The frontend adapter converts:

<Table
  headers={['Input', 'Output']}
  rows={[
    ['DataTables query params', 'API Platform params (`page`, `itemsPerPage`, `order[field]`, filters)'],
    ['Hydra response (`hydra:member`, `hydra:totalItems`)', 'DataTables response shape'],
  ]}
/>

Notes:

- Date formatting is handled by the backend payload. The adapter does not reformat date values on the client.
- When API Platform adapter mode is enabled, `serverSide` is enforced so sorting and filtering stay consistent with API queries.

## 2) AbstractDataTable Auto Ajax Wiring

When rendering an `AbstractDataTable`, `prepareForRendering()` can auto-configure Ajax for API resources.

<Table
  headers={['Aspect', 'Value']}
  rows={[
    ['Trigger', '`prepareForRendering()` on `AbstractDataTable`'],
    ['Purpose', 'Auto-configure Ajax options for API Platform resources'],
    ['Applied to', 'Tables with resolvable API Platform collection metadata'],
  ]}
/>

Conditions:

<Table
  headers={['Condition', 'Required']}
  rows={[
    ['No explicit `ajax` option', 'Yes'],
    ['No explicit `data` option', 'Yes'],
    ['`#[AsDataTable(...)]` exists', 'Yes'],
    ['A collection URL can be resolved from API Platform metadata', 'Yes'],
  ]}
/>

Example resolved output:

<Table
  headers={['Option', 'Value']}
  rows={[
    ['`ajax.url`', '`/api/books`'],
    ['`ajax.type`', '`GET`'],
    ['`apiPlatform`', '`true`'],
  ]}
/>

## Column Auto Detection

If API Platform metadata is available, columns can be auto-detected from readable properties.

`#[AsDataTable]` supports serialization groups:

```php
#[AsDataTable(Book::class, serializationGroups: ['book:list'])]
```

## Frequent Pitfalls

- Enabling adapter mode without an Ajax endpoint.
- Expecting auto Ajax wiring when `ajax` or `data` is already set.
- Forgetting that non-readable resource properties are skipped in auto-detection.

## Cross Links

- [/ux-datatables/reference/abstract-datatable/](/ux-datatables/reference/abstract-datatable/)
- [/ux-datatables/guide/data-loading/](/ux-datatables/guide/data-loading/)
- [/ux-datatables/guide/server-side-processing/](/ux-datatables/guide/server-side-processing/)
